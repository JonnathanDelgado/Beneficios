<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Inicio · Gpon</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-HXr7+Xw5l4kz0Uht5Ec3hFW+e5kZ3Q52TnPGyY2IpbXfS5mDmyZgZ2h8u9JjHnTtL7VYoY3Su+FjAqgX3vsUqw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
</head>
<body>

<header class="topbar">
  <div class="brand">
    <div class="logo"><img src="/static/conten/Gponblack.svg" alt=""></div>
    <div class="sub"><img src="/static/conten/forpartnersblack.svg" alt=""></div>
  </div>
  <nav class="top-actions">
    <a class="btn btn-outline" href="{{ url_for('logout') }}">
      Cerrar sesión
    </a>
  </nav>
</header>

<main class="container">
  <section class="hero">
    <h1>Bienvenido, <span class="username">@{{ session.get('user', 'name') }}</span>!</h1>
    <p class="lead">
      En nuestro portal puedes validar tanto a los clientes y trabajadoras/es que
      gozan del beneficio de nuestras alianzas. Es de suma importancia recordar la relevancia del
      cuidado de esta información, quedando como responsabilidad legal de nuestro partner el uso
      y tratamiento.
    </p>

    <div class="grid">
      <!-- Verificador de usuarios -->
      <div class="card">
        <h3>Verificador de usuarios</h3>
        <form method="post" action="{{ url_for('consultar') }}" class="verify-form">
          
          <label>
            <img src="/static/conten/perfil.png" alt="">
            <select name="tipo">
              <option value="cliente">Cliente</option>
              <option value="trabajador">Trabajador</option>
            </select>
          </label>
          
          <label class="containerlabel">
            <div>
              <img src="/static/conten/doc.svg" alt="">
              <select name="select_documento" required>
                <option value="DNI">DNI</option>
                <option value="Carnet de Extranjeria">Carnet de Extranjería</option>
              </select>
            </div>
            <div>
              <label>
                <input class="inputdoc" name="documento" type="text" placeholder="Ej. 12345678" required>
                <img src="/static/conten/lupa.svg" alt="">
              </label>
            </div>
          </label>

          <button type="submit" class="btn btn-primary">Validar ahora</button>
        </form>
      </div>

      <!-- Lado derecho con imagen -->
      <div class="preview">
        <img src="{{ url_for('static', filename='img/hoja.png') }}"
             alt="Vista de Excel de ejemplo">
      </div>
    </div>

    <div class="actions">
      <form id="uploadForm" method="POST" action="{{ url_for('upload_beneficiarios') }}" enctype="multipart/form-data">
        <input type="file" name="file" id="fileInput" accept=".xlsx,.xls,.csv" hidden>
        <button type="button" class="btn btn-excel" id="uploadBtn">
          <img src="/static/conten/excel.svg" alt="">
          Subir beneficiarios
        </button>
      </form>
    </div>

    <script>
      (function () {
        const btn = document.getElementById('uploadBtn');
        const input = document.getElementById('fileInput');
        const form = document.getElementById('uploadForm');

        btn.addEventListener('click', () => input.click());
        input.addEventListener('change', () => {
          if (input.files && input.files.length > 0) {
            form.submit();
          }
        });
      })();
    </script>

  </section>
</main>

<footer class="footer">Gpon</footer>

</body>
</html>
